(()=>{"use strict";let t=[],e=0;class n{constructor(t,n){this.state=t,this.props=n,this.id=++e}setState(t){console.log("inside Component.setState:",t),this.state=t,s()}}function o(t,e){console.log("res:",t),console.log("props:",e),e&&e.onClick&&(console.log("onClick event recognized in function component"),t.addEventListener("click",e.onClick))}function s(t,e){e?e.appendChild(t):document.body.appendChild(t)}const i={Component:n,transform(e,s,...i){if(e.prototype instanceof n){return function(e,n){let o=new e("null",n);return t[o.id]||t.push(o),o}(e,s).render()}if("function"==typeof e){let t=e(s);return o(t,s),t}{let t=document.createElement(e);return i.forEach((e=>{if(console.log("el:",e),e&&e.nodeType)t.appendChild(e);else if(e){let n=document.createTextNode(e);t.appendChild(n)}})),o(t,s),t}},render:s},l=function(t){return console.log("props inside Button:",t),t?i.transform("button",null,t.text):i.transform("button",null," without props ")};class r extends i.Component{constructor(t,e){super(t,e),this.handleClick=t=>{console.log("inside handleClick: newState:",t),this.setState(t),console.log("this.state:",t)},this.state="initial state",this.props=e}render(){return console.log("this:",this),i.transform("button",{onClick:()=>{console.log("---\x3e click event fired inside class component render"),this.handleClick("updated state")}}," ",this.props.text,", this.state: ",this.state)}}i.render(i.transform((function(){return i.transform("div",null,i.transform(l,{text:"click me",onClick:()=>{console.log("---\x3e click event fired in function component")}}),i.transform(l,{text:"click me 2"}),i.transform(r,{text:"myClassComponent with text prop"}))}),null),document.getElementById("root"))})();