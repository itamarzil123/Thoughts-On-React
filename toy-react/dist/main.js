(()=>{"use strict";let e=[],t=0,n=null,o=null;class s{constructor(e,n,o){this.state=e,this.props=n,this.id=++t,this._nativeNode=o}getComponentNativeNode(){return document.getElementById(this.id)}setState(e){console.log("inside Component.setState:",e),this.state=e,function(e,t){if(console.log("reconciling..."),console.log("thisClassComponent:",e),console.log("nativeNode:",t),n){let n=e.render(),o=t.parentNode;console.log("_renderedComponent:",n),t.parentNode.removeChild(t),o.appendChild(n)}else document.body.appendChild(t)}(this,this.getComponentNativeNode())}}function i(e,t){console.log("res:",e),console.log("props:",t),t&&t.onClick&&(console.log("onClick event recognized in function component"),e.addEventListener("click",t.onClick))}const l={Component:s,transform(t,n,...o){if(t.prototype instanceof s){let o=function(t,n){let o=new t("null",n);return e[o.id]||e.push(o),o}(t,n),s=o.render();return s.setAttribute("id",o.id),s}if("function"==typeof t){let e=t(n);return i(e,n),e}{let e=document.createElement(t);return o.forEach((t=>{if(console.log("el:",t),t&&t.nodeType)e.appendChild(t);else if(t){let n=document.createTextNode(t);e.appendChild(n)}})),i(e,n),e}},render:function(e,t){console.log("node in render:",e),o=e,t?(t.appendChild(e),n=t):document.body.appendChild(e)}},r=function(e){return console.log("props inside Button:",e),e?l.transform("button",null,e.text):l.transform("button",null," without props ")};class c extends l.Component{constructor(e,t){super(e,t),this.handleClick=e=>{console.log("inside handleClick: newState:",e),this.setState(e),console.log("this.state:",e)},this.state="initial state",this.props=t}render(){return console.log("this:",this),l.transform("button",{onClick:()=>{console.log("---\x3e click event fired inside class component render"),this.handleClick("updated state")}}," ",this.props.text,", this.state: ",this.state)}}l.render(l.transform((function(){return l.transform("div",null,l.transform(r,{text:"click me",onClick:()=>{console.log("---\x3e click event fired in function component")}}),l.transform(r,{text:"click me 2"}),l.transform(c,{text:"myClassComponent with text prop"}))}),null),document.getElementById("root"))})();