(()=>{"use strict";let t=[],e=0;class n{constructor(t,n){this.state=t,this.props=n,this.id=++e}setState(t){console.log("inside Component.setState:",t),this.state=t}}function o(t,e){console.log("res:",t),console.log("props:",e),e&&e.onClick&&(console.log("onClick event recognized in function component"),t.addEventListener("click",e.onClick))}const s={Component:n,transform(e,s,...r){if(e.prototype instanceof n){return function(e,n){let o=new e(null,n);return t[o.id]||t.push(o),o}(e,s).render()}if("function"==typeof e){let t=e(s);return o(t,s),t}{let t=document.createElement(e);return r.forEach((e=>{if(e.nodeType)t.appendChild(e);else{let n=document.createTextNode(e);t.appendChild(n)}})),o(t,s),t}},render(t,e){e?e.appendChild(t):document.body.appendChild(t)}},r=function(t){return console.log("props inside Button:",t),t?s.transform("button",null,t.text):s.transform("button",null," without props ")};class i extends s.Component{constructor(t,e){super(t,e),this.handleClick=t=>{console.log("inside handleClick: newState:",t),this.setState(t)},this.state=t,this.props=e}render(){return console.log("this:",this),s.transform("button",{onClick:()=>{console.log("---\x3e click event fired inside class component render"),this.handleClick("updated state")}}," ",this.props.text,", this.state: ",this.state)}}s.render(s.transform((function(){return s.transform("div",null,s.transform(r,{text:"click me",onClick:()=>{console.log("---\x3e click event fired in function component")}}),s.transform(r,{text:"click me 2"}),s.transform(i,{text:"myClassComponent with text prop"}))}),null),document.getElementById("root"))})();